library(ggplot2)

CR_100_1 <- c(9,11,15,20,13,5,11,21,19,14)
CR_100_2 <- c(36 ,44 ,45  ,37  ,33 ,25 ,29 ,42  ,48  ,29)
CR_100_3 <- c(60 ,71 ,82  ,62  ,57 ,61 ,47 ,77  ,74  ,59)
CR_100_4 <- c(94 ,97 ,98  ,92  ,88 ,85 ,79 ,95  ,91  ,84)
CR_100_5 <- c(99 ,99 ,100 ,100 ,98 ,93 ,91 ,100 ,100 ,97)
CR_100_6 <- 100
CR_100_7 <- 100
CR_100_8 <- 100
CR_100_9 <- 100

CR_300_1 <- c(44  ,32  ,58  ,45  ,29  ,48  ,52  ,68  ,33  ,62)
CR_300_2 <- c(188 ,100 ,133 ,159 ,105  ,112 ,147 ,175 ,97  ,168)
CR_300_3 <- c(223 ,180 ,212 ,246 ,195 ,230 ,200 ,237 ,222 ,217)
CR_300_4 <- c(300 ,236 ,259 ,294 ,255 ,279 ,284 ,300 ,281 ,267)
CR_300_5 <- c(300 ,288 ,291 ,300 ,295 ,300 ,300 ,300 ,299 ,300)
CR_300_6 <- c(300 ,298 ,300 ,300 ,300 ,300 ,300 ,300 ,300 ,300)
CR_300_7 <- 300
CR_300_8 <- 300
CR_300_9 <- 300

CR_500_1 <- c(99  ,75  ,120 ,51  ,130 ,88  ,93  ,87  ,111 ,102)
CR_500_2 <- c(292 ,156 ,271 ,130 ,251 ,183 ,198 ,234 ,313 ,265)
CR_500_3 <- c(431 ,305 ,431 ,287 ,414 ,337 ,401 ,289 ,452 ,343)
CR_500_4 <- c(496 ,421 ,487 ,431 ,495 ,452 ,478 ,398 ,500 ,420)
CR_500_5 <- c(500 ,491 ,500 ,500 ,500 ,497 ,500 ,447 ,500 ,484)
CR_500_6 <- c(500 ,500 ,500 ,500 ,500 ,500 ,500 ,489 ,500 ,500)
CR_500_7 <- 500
CR_500_8 <- 500
CR_500_9 <- 500

CR_1000_1 <- c(231  ,263  ,177  ,213  ,246  ,186 ,134 ,159  ,200  ,225)
CR_1000_2 <- c(423  ,402  ,267  ,343  ,389  ,270 ,281 ,303  ,434  ,379)
CR_1000_3 <- c(591  ,555  ,423  ,496  ,523  ,467 ,379 ,489  ,467  ,515)
CR_1000_4 <- c(613  ,663  ,557  ,706  ,678  ,624 ,496 ,589  ,626  ,700)
CR_1000_5 <- c(648  ,803  ,769  ,845  ,837  ,791 ,621 ,789  ,830  ,844)
CR_1000_6 <- c(994  ,834  ,882  ,1000 ,945  ,888 ,784 ,903  ,956  ,927)
CR_1000_7 <- c(996  ,957  ,994  ,1000 ,1000 ,959 ,888 ,987  ,1000 ,1000)
CR_1000_8 <- c(1000 ,1000 ,1000 ,1000 ,1000 ,999 ,979 ,1000 ,1000 ,1000)
CR_1000_9 <- 1000

type <- c(rep("run 1",4) , rep("run 2",4), rep("run 3",4), rep("run 4",4), rep("run 5",4), rep("run 6",4), rep("run 7",4), rep("run 8",4), rep("run 9",4))

tasks = c(mean(CR_100_1),mean(CR_300_1),mean(CR_500_1),mean(CR_1000_1),
		mean(CR_100_2),mean(CR_300_2),mean(CR_500_2),mean(CR_1000_2),
		mean(CR_100_3),mean(CR_300_3),mean(CR_500_3),mean(CR_1000_3),
		mean(CR_100_4),mean(CR_300_4),mean(CR_500_4),mean(CR_1000_4),
		mean(CR_100_5),mean(CR_300_5),mean(CR_500_5),mean(CR_1000_5),
		mean(CR_100_6),mean(CR_300_6),mean(CR_500_6),mean(CR_1000_6),
		mean(CR_100_7),mean(CR_300_7),mean(CR_500_7),mean(CR_1000_7),
		mean(CR_100_8),mean(CR_300_8),mean(CR_500_8),mean(CR_1000_8),
		mean(CR_100_9),mean(CR_300_9),mean(CR_500_9),mean(CR_1000_9))

sd = c(sd(CR_100_1), sd(CR_300_1),sd(CR_500_1), sd(CR_1000_1),
		sd(CR_100_2),sd(CR_300_2),sd(CR_500_2), sd(CR_1000_2),
		sd(CR_100_3),sd(CR_300_3),sd(CR_500_3), sd(CR_1000_3),
		sd(CR_100_4),sd(CR_300_4),sd(CR_500_4), sd(CR_1000_4),
		sd(CR_100_5),sd(CR_300_5),sd(CR_500_5), sd(CR_1000_5),
		sd(CR_100_6),sd(CR_300_6),sd(CR_500_6), sd(CR_1000_6),
		sd(CR_100_7),sd(CR_300_7),sd(CR_500_7), sd(CR_1000_7),
		sd(CR_100_8),sd(CR_300_8),sd(CR_500_8), sd(CR_1000_8),
		sd(CR_100_9),sd(CR_300_9),sd(CR_500_9), sd(CR_1000_9))

task_amount=rep(c("100", "300","500","1000"),9)

data <- data.frame(task_amount,type,tasks)
data$task_amount <- factor(data$task_amount, levels = c("100", "300","500","1000"))

ggplot(data, aes(x=type, y=tasks, group = task_amount, colour=task_amount)) + 
geom_errorbar(aes(ymin=tasks-sd, ymax=tasks+sd), width=.1) +
geom_line() + geom_point() +
ggtitle("CloudRun-2048MB-2vCPU") + theme(plot.title = element_text(size = 12)) + theme(plot.title = element_text(hjust = 0.5)) + 
theme (text = element_text(size=12)) + 
scale_y_continuous(expand = c(0, 0), limits = c(-10, 1030)) +
ylab("Tasks burst [count]") + xlab("Run [number]") +
ggsave(paste("cloud_run_burst.pdf"), width = 14, height = 11, units = "cm")